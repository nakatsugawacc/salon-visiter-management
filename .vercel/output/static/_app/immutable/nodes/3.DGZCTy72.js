import{s as mt,n as O,c as ut,o as ht,a as pt}from"../chunks/Bz62dCMN.js";import{S as vt,i as _t,d,a as w,b as u,k as h,l as bt,g as I,c as p,e as y,j as T,h as v,m as A,s as q,f as E,t as V,n as lt}from"../chunks/h6eYgRLO.js";import{p as gt}from"../chunks/DAAGR0gu.js";import{v as W,a as X,n as st}from"../chunks/Sm0mpwp5.js";function xt(o){let t,e,s="ğŸ‘¤",a,l,r=o[0].name+"",n,b,f,_,k=o[0].phone+"",C,j,m,x,B="ç¾åœ¨ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹",D,R,M=o[0].detailedStatus+"",U,Y,J,P,Z,H,Q,z,N,F,L,nt=new Date().toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit",second:"2-digit"})+"",$,g=o[0].assignedRoom&&ft(o);function at(i,c){return i[0].detailedStatus==="æœªæ¥åº—"?Ct:i[0].detailedStatus==="å—ä»˜"||i[0].detailedStatus==="å…¥å®¤"?St:i[0].detailedStatus==="æ–½è¡“å®Œäº†"||i[0].detailedStatus==="é€€å‡ºæº–å‚™ä¸­"?wt:yt}let G=at(o),S=G(o);return{c(){t=v("div"),e=v("div"),e.textContent=s,a=T(),l=v("h1"),n=V(r),b=V(" æ§˜"),f=T(),_=v("p"),C=V(k),j=T(),m=v("div"),x=v("p"),x.textContent=B,D=T(),R=v("p"),U=V(M),Y=T(),g&&g.c(),J=T(),P=v("div"),Z=V("çµŒéæ™‚é–“: "),H=v("span"),Q=V(o[1]),z=T(),N=v("div"),S.c(),F=T(),L=v("div"),$=V(nt),this.h()},l(i){t=p(i,"DIV",{class:!0});var c=y(t);e=p(c,"DIV",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-1msj2xe"&&(e.textContent=s),a=I(c),l=p(c,"H1",{class:!0});var tt=y(l);n=E(tt,r),b=E(tt," æ§˜"),tt.forEach(d),f=I(c),_=p(c,"P",{class:!0});var ot=y(_);C=E(ot,k),ot.forEach(d),j=I(c),m=p(c,"DIV",{class:!0});var K=y(m);x=p(K,"P",{class:!0,"data-svelte-h":!0}),A(x)!=="svelte-1orcw02"&&(x.textContent=B),D=I(K),R=p(K,"P",{class:!0});var it=y(R);U=E(it,M),it.forEach(d),K.forEach(d),Y=I(c),g&&g.l(c),J=I(c),P=p(c,"DIV",{class:!0});var et=y(P);Z=E(et,"çµŒéæ™‚é–“: "),H=p(et,"SPAN",{class:!0});var rt=y(H);Q=E(rt,o[1]),rt.forEach(d),et.forEach(d),c.forEach(d),z=I(i),N=p(i,"DIV",{class:!0});var dt=y(N);S.l(dt),dt.forEach(d),F=I(i),L=p(i,"DIV",{class:!0});var ct=y(L);$=E(ct,nt),ct.forEach(d),this.h()},h(){h(e,"class","text-5xl mb-3"),h(l,"class","text-2xl font-bold text-gray-800 mb-1"),h(_,"class","text-sm text-gray-500"),h(x,"class","text-xs font-medium"),h(R,"class","text-lg font-bold"),h(m,"class","mt-3 inline-block bg-blue-100 text-blue-800 px-4 py-2 rounded-lg"),h(H,"class","font-bold text-blue-600"),h(P,"class","mt-3 text-sm text-gray-600"),h(t,"class","text-center mb-6"),h(N,"class","space-y-3"),h(L,"class","mt-6 text-center text-xs text-gray-400")},m(i,c){w(i,t,c),u(t,e),u(t,a),u(t,l),u(l,n),u(l,b),u(t,f),u(t,_),u(_,C),u(t,j),u(t,m),u(m,x),u(m,D),u(m,R),u(R,U),u(t,Y),g&&g.m(t,null),u(t,J),u(t,P),u(P,Z),u(P,H),u(H,Q),w(i,z,c),w(i,N,c),S.m(N,null),w(i,F,c),w(i,L,c),u(L,$)},p(i,c){c&1&&r!==(r=i[0].name+"")&&q(n,r),c&1&&k!==(k=i[0].phone+"")&&q(C,k),c&1&&M!==(M=i[0].detailedStatus+"")&&q(U,M),i[0].assignedRoom?g?g.p(i,c):(g=ft(i),g.c(),g.m(t,J)):g&&(g.d(1),g=null),c&2&&q(Q,i[1]),G===(G=at(i))&&S?S.p(i,c):(S.d(1),S=G(i),S&&(S.c(),S.m(N,null)))},d(i){i&&(d(t),d(z),d(N),d(F),d(L)),g&&g.d(),S.d()}}}function kt(o){let t,e='<div class="text-6xl mb-4">âŒ</div> <h1 class="text-2xl font-bold text-red-600 mb-2">ç„¡åŠ¹ãªQRã‚³ãƒ¼ãƒ‰</h1> <p class="text-gray-600">ã“ã®URLã¯ç„¡åŠ¹ã§ã™</p>';return{c(){t=v("div"),t.innerHTML=e,this.h()},l(s){t=p(s,"DIV",{class:!0,"data-svelte-h":!0}),A(t)!=="svelte-lbb27"&&(t.innerHTML=e),this.h()},h(){h(t,"class","text-center")},m(s,a){w(s,t,a)},p:O,d(s){s&&d(t)}}}function ft(o){let t,e,s,a=o[0].assignedRoom+"",l;return{c(){t=v("div"),e=v("p"),s=V("æ–½è¡“éƒ¨å±‹: "),l=V(a),this.h()},l(r){t=p(r,"DIV",{class:!0});var n=y(t);e=p(n,"P",{class:!0});var b=y(e);s=E(b,"æ–½è¡“éƒ¨å±‹: "),l=E(b,a),b.forEach(d),n.forEach(d),this.h()},h(){h(e,"class","text-sm font-bold"),h(t,"class","mt-2 inline-block bg-purple-100 text-purple-800 px-4 py-2 rounded-lg")},m(r,n){w(r,t,n),u(t,e),u(e,s),u(e,l)},p(r,n){n&1&&a!==(a=r[0].assignedRoom+"")&&q(l,a)},d(r){r&&d(t)}}}function yt(o){let t,e=`<p class="text-gray-700 text-sm leading-relaxed">ãã®ã¾ã¾ãŠå¾…ã¡ãã ã•ã„<br/>
              ã‚¹ã‚¿ãƒƒãƒ•ãŒã¾ã‚‚ãªãã”æ¡ˆå†…ã„ãŸã—ã¾ã™</p>`;return{c(){t=v("div"),t.innerHTML=e,this.h()},l(s){t=p(s,"DIV",{class:!0,"data-svelte-h":!0}),A(t)!=="svelte-19huix8"&&(t.innerHTML=e),this.h()},h(){h(t,"class","bg-yellow-50 rounded-lg p-6 text-center")},m(s,a){w(s,t,a)},p:O,d(s){s&&d(t)}}}function wt(o){let t,e="ğŸŠ ãŠç€æ›¿ãˆçµ‚äº†ï¼ˆé€€åº—å‰ï¼‰",s,a;return{c(){t=v("button"),t.textContent=e,this.h()},l(l){t=p(l,"BUTTON",{class:!0,"data-svelte-h":!0}),A(t)!=="svelte-1xxcds8"&&(t.textContent=e),this.h()},h(){h(t,"class","w-full py-3 px-4 bg-purple-600 text-white rounded-lg font-bold hover:bg-purple-700 transition-colors shadow-lg")},m(l,r){w(l,t,r),s||(a=lt(t,"click",o[4]),s=!0)},p:O,d(l){l&&d(t),s=!1,a()}}}function St(o){let t,e="âœ¨ ãŠç€æ›¿ãˆå®Œäº†ï¼ˆæ–½è¡“å‰ï¼‰",s,a;return{c(){t=v("button"),t.textContent=e,this.h()},l(l){t=p(l,"BUTTON",{class:!0,"data-svelte-h":!0}),A(t)!=="svelte-fp1aum"&&(t.textContent=e),this.h()},h(){h(t,"class","w-full py-3 px-4 bg-green-600 text-white rounded-lg font-bold hover:bg-green-700 transition-colors shadow-lg")},m(l,r){w(l,t,r),s||(a=lt(t,"click",o[3]),s=!0)},p:O,d(l){l&&d(t),s=!1,a()}}}function Ct(o){let t,e="ğŸ‘‹ æ¥åº—",s,a;return{c(){t=v("button"),t.textContent=e,this.h()},l(l){t=p(l,"BUTTON",{class:!0,"data-svelte-h":!0}),A(t)!=="svelte-1qvyyop"&&(t.textContent=e),this.h()},h(){h(t,"class","w-full py-3 px-4 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 transition-colors shadow-lg")},m(l,r){w(l,t,r),s||(a=lt(t,"click",o[2]),s=!0)},p:O,d(l){l&&d(t),s=!1,a()}}}function Dt(o){var b;let t,e,s,a;document.title=t="ãŠå®¢æ§˜ç”»é¢ - "+(((b=o[0])==null?void 0:b.name)||"ä¸æ˜");function l(f,_){return f[0]?xt:kt}let r=l(o),n=r(o);return{c(){e=T(),s=v("div"),a=v("div"),n.c(),this.h()},l(f){bt("svelte-hksmnc",document.head).forEach(d),e=I(f),s=p(f,"DIV",{class:!0});var k=y(s);a=p(k,"DIV",{class:!0});var C=y(a);n.l(C),C.forEach(d),k.forEach(d),this.h()},h(){h(a,"class","bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full"),h(s,"class","min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4")},m(f,_){w(f,e,_),w(f,s,_),u(s,a),n.m(a,null)},p(f,[_]){var k;_&1&&t!==(t="ãŠå®¢æ§˜ç”»é¢ - "+(((k=f[0])==null?void 0:k.name)||"ä¸æ˜"))&&(document.title=t),r===(r=l(f))&&n?n.p(f,_):(n.d(1),n=r(f),n&&(n.c(),n.m(a,null)))},i:O,o:O,d(f){f&&(d(e),d(s)),n.d()}}}function It(o,t,e){let s,a,l,r;ut(o,gt,m=>e(7,l=m)),ut(o,X,m=>e(8,r=m));let n=null,b="",f;function _(){if(!(n!=null&&n.qrScannedAt)){e(1,b="æœªã‚¹ã‚­ãƒ£ãƒ³");return}const m=new Date,x=new Date(n.qrScannedAt),B=m-x,D=Math.floor(B/6e4);if(D<1)e(1,b="< 1åˆ†");else if(D<60)e(1,b=`${D}åˆ†`);else{const R=Math.floor(D/60),M=D%60;e(1,b=`${R}æ™‚é–“${M}åˆ†`)}}function k(){const m=l.params.token,x=W[m];X.updateStatus(x,"å—ä»˜"),st.add({visitorName:n.name,checkpointName:"æ¥åº—",timestamp:new Date().toISOString()})}function C(){const m=l.params.token,x=W[m];X.updateStatus(x,"ç€æ›¿ãˆå®Œäº†(æ–½è¡“å‰)"),st.addReady({visitorName:n.name,checkpointName:n.assignedRoom?`æ–½è¡“éƒ¨å±‹${n.assignedRoom}`:"",timestamp:new Date().toISOString()})}function j(){const m=l.params.token,x=W[m];X.updateStatus(x,"å®Œäº†"),st.addTreatmentComplete({visitorName:n.name,checkpointName:n.assignedRoom?`æ–½è¡“éƒ¨å±‹${n.assignedRoom}`:"",timestamp:new Date().toISOString()})}return ht(()=>{_(),f=setInterval(_,1e4)}),pt(()=>{f&&clearInterval(f)}),o.$$.update=()=>{o.$$.dirty&128&&e(6,s=l.params.token),o.$$.dirty&64&&e(5,a=W[s]),o.$$.dirty&288&&e(0,n=r.find(m=>m.id===a))},[n,b,k,C,j,a,s,l,r]}class Nt extends vt{constructor(t){super(),_t(this,t,It,Dt,mt,{})}}export{Nt as component};
